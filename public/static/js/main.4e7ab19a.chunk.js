(this["webpackJsonpget-scripts"]=this["webpackJsonpget-scripts"]||[]).push([[0],{18:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},39:function(e,t,a){e.exports=a(80)},43:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},70:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(22),c=a.n(s),l=a(6),o=a(2),i=a(3),u=a(5),m=a(4),p=(a(43),a(9)),h=a(7),d=a.n(h),g=new(function(){function e(){Object(o.a)(this,e),this.auth=d.a.create({baseURL:"https://project3ih.herokuapp.com",withCredentials:!0})}return Object(i.a)(e,[{key:"signup",value:function(e){var t=e.username,a=e.email,n=e.password;return this.auth.post("/auth/signup",{username:t,email:a,password:n}).then((function(e){return e.data}))}},{key:"login",value:function(e){var t=e.email,a=e.password;return this.auth.post("/auth/login",{email:t,password:a}).then((function(e){return e.data}))}},{key:"logout",value:function(){return this.auth.get("/auth/logout",{}).then((function(e){return e.data}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data}))}}]),e}()),v=r.a.createContext(),E=v.Consumer,f=v.Provider,b=function(e){return function(t){Object(u.a)(n,t);var a=Object(m.a)(n);function n(){return Object(o.a)(this,n),a.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(E,null,(function(a){var n=a.login,s=a.signup,c=a.user,l=a.logout,o=a.isLoggedin;return r.a.createElement(e,Object.assign({login:n,signup:s,user:c,logout:l,isLoggedin:o},t.props))}))}}]),n}(n.Component)},y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isLoggedin:!1,user:null,isLoading:!0,message:""},e.signup=function(t){var a=t.username,n=t.email,r=t.password;g.signup({username:a,email:n,password:r}).then((function(t){return e.setState({isLoggedin:!0,user:t})})).catch((function(t){var a=t.response;e.setState({message:{status:a.status,statusText:a.statusText,errorMessage:a.data.errorMessage}})}))},e.login=function(t){var a=t.email,n=t.password;g.login({email:a,password:n}).then((function(t){return e.setState({isLoggedin:!0,user:t})})).catch((function(t){var a=t.response;e.setState({message:{status:a.status,statusText:a.statusText,errorMessage:a.data.errorMessage}})}))},e.logout=function(){g.logout().then((function(){return e.setState({isLoggedin:!1,user:null})})).catch((function(e){return console.log(e)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;g.me().then((function(t){t.email&&e.setState({isLoggedin:!0,user:t,isLoading:!1})})).catch((function(t){return e.setState({isLoggedin:!1,user:null,isLoading:!1,message:t.message})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;t.isLoggedin!==this.state.isLoggedin&&g.me().then((function(e){e.email&&a.state.isLoggedin&&a.setState({isLoggedin:!0,user:e,isLoading:!1})})).catch((function(e){return a.setState({isLoggedin:!1,user:null,isLoading:!1,message:e.message})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.isLoggedin,n=e.user,s=this.login,c=this.logout,l=this.signup;return t?r.a.createElement("div",null,"Loading"):r.a.createElement(f,{value:{isLoggedin:a,user:n,login:s,logout:c,signup:l}},this.props.children)}}]),a}(n.Component),k=a(19);var x=b((function(e){var t=e.component,a=e.isLoggedin,n=Object(k.a)(e,["component","isLoggedin"]);return r.a.createElement(p.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(p.a,{to:"/"}):r.a.createElement(t,e)}}))}));var w=b((function(e){var t=e.component,a=e.isLoggedin,n=Object(k.a)(e,["component","isLoggedin"]);return r.a.createElement(p.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(p.a,{to:"/login"})}}))})),O=(a(66),b((function(){return r.a.createElement("nav",{className:"navbar"},r.a.createElement("ul",{className:"center-div"},r.a.createElement(l.b,{to:"/"},r.a.createElement("li",null,r.a.createElement("img",{src:"./../images/home.jpg"}),"Dashboard")),r.a.createElement(l.b,{to:"/groups"},r.a.createElement("li",null,r.a.createElement("img",{src:"./../images/group.jpg"}),"Groups")),r.a.createElement(l.b,{to:"/arrangements"},r.a.createElement("li",null,r.a.createElement("img",{src:"./../images/arrangements.jpg"}),"Arrangements")),r.a.createElement(l.b,{to:"/profile"},r.a.createElement("li",null,r.a.createElement("img",{src:"./../images/perfil.jpg"}),"Perfil"))))}))),j=(a(67),b(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.logout,n=e.isLoggedin;return r.a.createElement("nav",{className:"home center-div"},n?r.a.createElement("div",{className:"center-div home-loggedin"},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("img",{src:"./../images/splitapp.png"})),r.a.createElement("div",{className:"center-div"},r.a.createElement("p",null,"Hello, ",t.username," | "),r.a.createElement("button",{onClick:a},r.a.createElement("p",null,"Log Out"))))):r.a.createElement("div",{class:"home-buttons"},r.a.createElement(r.a.Fragment,null,r.a.createElement(l.b,{to:"/login"},r.a.createElement("button",{className:"navbar-button"},"Login")),r.a.createElement("br",null),r.a.createElement(l.b,{to:"/signup"},r.a.createElement("button",{className:"navbar-button"},"Sign Up")))))}}]),a}(n.Component))),C=a(14),N=(a(35),b(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={username:"",email:"",password:""},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.email,s=a.password;e.props.signup({username:n,email:r,password:s})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(C.a)({},n,r))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.password;return r.a.createElement("div",{className:"h100 log-container",style:{backgroundImage:"url(./../images/gradient.jpg)"}},r.a.createElement("div",{className:"center-div form-container"},r.a.createElement("h3",{className:"align-left ml10 mb10"},"Sign up"),r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"center-div form-elements w100"},r.a.createElement("input",{type:"text",name:"username",placeholder:"Enter your username",value:t,onChange:this.handleChange}),r.a.createElement("input",{type:"email",name:"email",placeholder:"Enter your email",value:a,onChange:this.handleChange}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Enter your password",value:n,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Sign up to new account",className:"button-input"})),r.a.createElement("div",{className:"center-div "},r.a.createElement("p",{className:"mr10"},"Already have account?"),r.a.createElement(l.b,{to:"/login",className:"account-link"}," Login"))))}}]),a}(n.Component))),S=b(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state,n=a.email,r=a.password;e.props.login({email:n,password:r})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(C.a)({},n,r))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password;return r.a.createElement("div",{className:"h100 log-container",style:{backgroundImage:"url(./../images/gradient.jpg)"}},r.a.createElement("div",{className:"center-div form-container"},r.a.createElement("h3",{className:"align-left ml10 mb10"},"Log in"),r.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"center-div form-elements w100"},r.a.createElement("input",{type:"text",name:"email",placeholder:"Enter your email",value:t,onChange:this.handleChange}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Enter your password",value:a,onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Login to your account",className:"button-input"}))))}}]),a}(n.Component)),T=(a(68),b(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"page dashboard"},r.a.createElement("div",null,r.a.createElement("h3",null,"Dashboard"),r.a.createElement("div",{className:"center-div dash-btn"},r.a.createElement("div",null,r.a.createElement("img",{src:"./../images/idea-icon.png"})),r.a.createElement("div",null,r.a.createElement("h4",null,"Groups"),r.a.createElement("p",null,"Access to all your active grups and check all the costs and expenses."),r.a.createElement(l.b,{to:"/groups"},r.a.createElement("button",null,"VIEW GROUPS")))),r.a.createElement("div",{className:"center-div dash-btn"},r.a.createElement("div",null,r.a.createElement("img",{src:"./../images/money-transfer-icon.png"})),r.a.createElement("div",null,r.a.createElement("h4",null,"Arrangements"),r.a.createElement("p",null,"Check all your current debts and your pending incomes."),r.a.createElement(l.b,{to:"/arrangements"},r.a.createElement("button",null,"VIEW ARRANGEMENTS")))),r.a.createElement("div",{className:"center-div dash-btn"},r.a.createElement("div",null,r.a.createElement("img",{src:"./../images/resume-icon.png"})),r.a.createElement("div",null,r.a.createElement("h4",null,"Profile"),r.a.createElement("p",null,"Access to all your active grups and check all the costs and expenses."),r.a.createElement(l.b,{to:"/profile"},r.a.createElement("button",null,"VIEW YOUR PROFILE"))))),r.a.createElement(O,null))}}]),a}(n.Component))),A=a(1),L=a.n(A),P=a(8),G=(a(70),b(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={checked:!1},e.changeBoolean=Object(P.a)(L.a.mark((function t(){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d()({method:"PATCH",url:"https://project3ih.herokuapp.com"+"/expenses/edit/".concat(e.props.theExpense._id),withCredentials:!0,data:{payed:e.state.checked}});case 3:t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0,"GET expenses error");case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),e.deleteExpense=Object(P.a)(L.a.mark((function t(){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d()({method:"DELETE",url:"https://project3ih.herokuapp.com"+"/expenses/delete/".concat(e.props.theExpense._id),withCredentials:!0});case 3:t.sent,e.props.refreshFunction(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0,"GET expenses error");case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e}return Object(i.a)(a,[{key:"handleCheckBox",value:function(){var e=Object(P.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.changeBoolean();case 2:this.setState({checked:!this.state.checked});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log(this.props.theExpense,"hhh"),r.a.createElement("div",{className:"each-cost"},r.a.createElement("div",{className:"each-cost-section"},r.a.createElement("div",{className:"each-cost-phrase"},this.props.theGroup.members.map((function(t){if(t._id==e.props.theExpense.payer)return r.a.createElement("p",null,t.username)})),r.a.createElement("p",null,"owes"),this.props.theGroup.members.map((function(t){if(t._id==e.props.theExpense.beneficiary)return r.a.createElement("p",null," ",t.username," ")})),r.a.createElement("p",null,this.props.theExpense.expenseImport.toFixed(2),"\u20ac")),r.a.createElement("button",{onClick:this.deleteExpense},"Delete")),r.a.createElement("div",{className:"check-div"},r.a.createElement("p",null,"Paid"),r.a.createElement("input",{type:"checkbox",onChange:function(t){return e.handleCheckBox(t)},checked:this.state.checked})))}}]),a}(n.Component))),F=(a(71),a(74),a(18),b(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={listOfExpenses:[],listOfCosts:[],group:e.props.location.state.groupsList,allImports:[],newArr:[],total:0,sum:0,checked:!0},e.getCosts=Object(P.a)(L.a.mark((function t(){var a;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d()({method:"GET",url:"https://project3ih.herokuapp.com"+"/all-costs/".concat(e.state.group._id),withCredentials:!0});case 3:a=t.sent,e.setState({listOfCosts:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0,"GET expenses error");case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e.getExpenses=Object(P.a)(L.a.mark((function t(){var a;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d()({method:"GET",url:"https://project3ih.herokuapp.com"+"/expenses/all/".concat(e.state.group._id),withCredentials:!0});case 3:a=t.sent,e.setState({listOfExpenses:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0,"GET expenses error");case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e.getAllExpenses=Object(P.a)(L.a.mark((function t(){var a;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d()({method:"GET",url:"https://project3ih.herokuapp.com"+"/expenses/add/".concat(e.state.group._id),withCredentials:!0});case 3:a=t.sent,e.setState({listOfExpenses:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0,"GET expenses error");case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e.getTotal=function(){e.state.group.costs.map((function(t){e.state.newArr.push(t.costImport)})),e.setState({newArr:e.state.newArr}),0==e.state.newArr.length?e.state.sum=0:1==e.state.newArr.length?e.state.sum=e.state.newArr[0]:e.state.newArr.reduce((function(t,a){return e.state.sum=t+a,e.state.sum}))},e.deleteGroup=Object(P.a)(L.a.mark((function t(){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d()({method:"DELETE",url:"https://project3ih.herokuapp.com"+"/groups/delete/".concat(e.state.group._id),withCredentials:!0});case 3:t.sent,e.props.history.push("/groups"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0,"GET expenses error");case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getTotal(),this.getCosts()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"groups-details-page"},r.a.createElement("div",{className:"groups-details-header"},r.a.createElement("img",{src:this.state.group.image,className:"group-image"}),r.a.createElement("h3",null,this.state.group.name),r.a.createElement("h6",null," This group has ",this.state.group.members.length," members"),r.a.createElement("button",{onClick:this.deleteGroup},"Delete group")),r.a.createElement("div",{className:"group-details-body"},r.a.createElement("div",{className:"group-details-content"},r.a.createElement("div",{className:"cost-list-section"},r.a.createElement("h3",null,"Costs list"),r.a.createElement(l.b,{className:"input-button-datils",to:{pathname:"/groups-addCost/".concat(this.state.group._id),state:{groupsList:this.state.group}}},"ADD COST"),this.state.listOfCosts.map((function(t){return r.a.createElement("div",{className:"each-cost"},r.a.createElement("div",{className:"each-cost-section"},r.a.createElement("p",null,"Date: ",t.date&&t.date.slice(0,10)),r.a.createElement("h3",null,t.concept)),r.a.createElement("div",{className:"each-cost-section align-right"},r.a.createElement("h2",null,t.costImport,"\u20ac"),e.state.group.members.map((function(e){if(e._id===t.buyer)return r.a.createElement("p",null,"Paid by ",r.a.createElement("span",null,e.username))}))))})),r.a.createElement("div",{className:"total-cost-div"})),r.a.createElement("div",{className:"cost-list-section"},r.a.createElement("h3",null,"All Expenses"),r.a.createElement("div",null,r.a.createElement("button",{onClick:this.getAllExpenses,className:"input-button-datils"},"SPLIT EXPENSES")),this.state.listOfExpenses.map((function(t){return r.a.createElement("div",null,r.a.createElement(G,{key:t._id,theExpense:t,theGroup:e.state.group,refreshFunction:e.getExpenses}))}))))),r.a.createElement("div",{className:"center-div"},r.a.createElement(O,null)))}}]),a}(n.Component))),I=(a(75),b(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={listOfArrangements:[]},e.getArrangements=Object(P.a)(L.a.mark((function t(){var a;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d()({method:"GET",url:"https://project3ih.herokuapp.com/arrangements",withCredentials:!0});case 3:a=t.sent,e.setState({listOfArrangements:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0,"GET expenses error");case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getArrangements()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"groups-page"},r.a.createElement("div",{className:"groups-header mb10"},r.a.createElement("img",{src:"./../images/arrengements-icon.png"}),r.a.createElement("h3",null,"Your debts and incomes",r.a.createElement("br",null),"at a glance")),r.a.createElement("div",null,r.a.createElement("div",{className:"center-div arrengementContainer"},r.a.createElement("h5",{className:"mb10"},"That's what you owe"),this.state.listOfArrangements.map((function(t){if(t.payer._id.toString()==e.props.user._id.toString())return r.a.createElement("div",{className:"arrengementDetails"},r.a.createElement("img",{src:"./../images/debts.png"}),r.a.createElement("div",{className:"arrengementText"},r.a.createElement("h6",null,t.beneficiary.username," owes"," ",t.payer.username," ",r.a.createElement("span",{className:"you-owe"},t.expenseImport.toFixed(2))," euros")))}))),r.a.createElement("div",{className:"center-div arrengementContainer"},r.a.createElement("h5",{className:"mb10"},"That's what you're owed"),this.state.listOfArrangements.map((function(t){if(t.beneficiary._id.toString()==e.props.user._id.toString())return r.a.createElement("div",{className:"arrengementDetails"},r.a.createElement("img",{src:"./../images/incomes.png"}),r.a.createElement("div",{className:"arrengementText"},r.a.createElement("h6",null,t.payer.username," owes"," ",t.beneficiary.username," ",r.a.createElement("span",{className:"you-owed"},t.expenseImport.toFixed(2))," euros")))})))),r.a.createElement("div",{className:"center-div"},r.a.createElement(O,null)))}}]),a}(n.Component))),D=(a(76),b((function(e){var t=e.groups;return r.a.createElement("div",{className:"group-list-item"},r.a.createElement(l.b,{to:{pathname:"/groups/".concat(t._id),state:{groupsList:t}},className:"w100"},r.a.createElement("div",{className:"group-list-image w100"},r.a.createElement("div",{className:"group-icon-name w100"},r.a.createElement("div",null,r.a.createElement("img",{src:t.image,alt:"group pic",width:"100"})),r.a.createElement("div",{className:"group-list-text"},r.a.createElement("h6",null,t.name),t.members.map((function(e){return r.a.createElement("span",{key:e._id},e.username,",  ")})),r.a.createElement("br",null))),r.a.createElement("div",{className:"view-group"},r.a.createElement("p",null,"VIEW GROUP")))))}))),M=b(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={listOfGroups:[]},e.getAllGroups=Object(P.a)(L.a.mark((function t(){var a;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d()({method:"GET",url:"https://project3ih.herokuapp.com/groups",withCredentials:!0});case 3:a=t.sent,e.setState({listOfGroups:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0,"GET expenses error");case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e.createEmptyGroup=function(){var e=Object(P.a)(L.a.mark((function e(t){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,d()({method:"POST",url:"https://project3ih.herokuapp.com/groups/add",withCredentials:!0});case 4:a=e.sent,window.location="/groups-edit/".concat(a.data._id),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0,"POST expenses error");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getAllGroups()}},{key:"render",value:function(){return r.a.createElement("div",{className:"groups-page"},r.a.createElement("div",{className:"groups-header"},r.a.createElement("img",{src:"./../images/idea-icon.png"}),r.a.createElement("h3",null,"What are you sharing ",r.a.createElement("br",null),"today?")),r.a.createElement("div",{className:"group-list-button"},r.a.createElement("div",{className:"center-div mb10"},r.a.createElement("button",{onClick:this.createEmptyGroup,className:"input-button"},"CREATE GROUP")),r.a.createElement("div",null,this.state.listOfGroups.map((function(e){return r.a.createElement(D,{key:e._id,groups:e})})))),r.a.createElement("div",{className:"center-div"},r.a.createElement(O,null)))}}]),a}(n.Component)),_=new function e(){var t=this;Object(o.a)(this,e),this.handleFileUpload=function(){var e=Object(P.a)(L.a.mark((function e(a){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.service.post("/upload",a);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.service=d.a.create({baseURL:"https://project3ih.herokuapp.com",withCredentials:!0})},U=(a(36),b(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={userProfile:{}},e.getUserInfo=Object(P.a)(L.a.mark((function t(){var a;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d()({method:"GET",url:"https://project3ih.herokuapp.com/profile",withCredentials:!0});case 3:a=t.sent,e.setState({userProfile:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0,"GET expenses error");case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getUserInfo()}},{key:"render",value:function(){return r.a.createElement("div",{className:"page profile"},r.a.createElement("div",{className:"cover"},r.a.createElement("img",{className:"profile-img",src:this.state.userProfile.image})),r.a.createElement("div",{className:"profile-container-flex"},r.a.createElement("div",{className:"profile-items"},r.a.createElement("div",{className:"edit-div"},r.a.createElement("h4",null,"Your profile"),r.a.createElement(l.b,{to:"/profile-edit/".concat(this.state.userProfile._id),profiles:this.state.userProfile},r.a.createElement("img",{src:"./../images/edit-icon.jpg"}))),r.a.createElement("p",null,"Username:"),r.a.createElement("h5",null,this.state.userProfile.username),r.a.createElement("hr",null),r.a.createElement("p",null,"Email:"),r.a.createElement("h5",null,this.state.userProfile.email),r.a.createElement("hr",null),r.a.createElement("p",null,"Phone:"),r.a.createElement("h5",null,this.state.userProfile.phone),r.a.createElement("hr",null),r.a.createElement("p",null,"Pyment method:"),r.a.createElement("h5",null,"Bizum"),r.a.createElement("hr",null))),r.a.createElement(O,null))}}]),a}(n.Component))),R=b(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={username:"",image:"",phone:""},e.handleFileUpload=function(){var t=Object(P.a)(L.a.mark((function t(a){var n,r;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("image",a.target.files[0]),t.prev=2,t.next=5,_.handleFileUpload(n);case 5:r=t.sent,e.setState({image:r.secure_url}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log("Error while uploading the file: ",t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),e.editProfile=function(){var e=Object(P.a)(L.a.mark((function e(t,a,n,r){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({method:"PATCH",url:"https://project3ih.herokuapp.com"+"/profile/edit/".concat(t),withCredentials:!0,data:{id:t,username:a,image:n,phone:r}});case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),e.handleFormSubmit=function(){var t=Object(P.a)(L.a.mark((function t(a){var n,r,s,c,l;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),n=e.state,r=n.username,s=n.image,c=n.phone,l=e.props.user._id,e.editProfile(l,r,s,c);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(C.a)({},n,r))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"page profile"},r.a.createElement("div",{className:"cover"}),r.a.createElement("div",{className:"profile-container-flex"},r.a.createElement("div",{className:"profile-items"},r.a.createElement("div",{className:"edit-div edit-profile-form"},r.a.createElement("h4",null,"Edit your profile"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",{htmlFor:"username"},"Name:"),r.a.createElement("input",{id:"username",type:"text",name:"username",value:this.username,onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"image"}," Image: "),r.a.createElement("input",{id:"image",type:"file",name:"image",onChange:this.handleFileUpload}),r.a.createElement("label",{htmlFor:"phone"},"Edit phone"),r.a.createElement("input",{id:"phone",type:"text",name:"phone",value:this.phone,onChange:this.handleChange}),r.a.createElement("div",null,r.a.createElement("input",{type:"submit",value:"SAVE PROFILE",className:"input-button edit-profile",onClick:this.props.history.goBack})))))),r.a.createElement(O,null))}}]),a}(n.Component)),B=(a(77),b(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={checked:!1},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"checkbox-container"},this.props.value,r.a.createElement("input",{className:"input-checkbox-size",type:"checkbox",value:this.state.checked,onClick:function(){e.setState((function(e){return{checked:!e.checked}})),e.props.calculateTotal(e.props.value,!e.state.checked)}})," ")}}]),a}(n.Component))),z=(a(78),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={concept:"",costImport:0,date:"",receipt:{},ticket:{merchant:"",items:[],date:""},ticketTotal:0},e.handleSubmit=function(){var t=Object(P.a)(L.a.mark((function t(a){var n,r,s,c,l,o;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state,r=n.concept,s=n.costImport,c=n.date,l=n.ticketTotal,o=n.ticket,a.preventDefault(),!(o.items.length>0)){t.next=16;break}return t.prev=3,t.next=6,d()({method:"POST",url:"https://project3ih.herokuapp.com"+"/costs/add/".concat(e.props.location.state.groupsList._id),withCredentials:!0,data:{concept:o.merchant,costImport:l,date:o.date}});case 6:t.sent,e.setState({ticket:{merchant:"",items:[],date:""},ticketTotal:0}),e.props.history.goBack(),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0,"POST expenses error");case 14:t.next=27;break;case 16:return t.prev=16,t.next=19,d()({method:"POST",url:"https://project3ih.herokuapp.com"+"/costs/add/".concat(e.props.location.state.groupsList._id),withCredentials:!0,data:{concept:r,costImport:s,date:c}});case 19:t.sent,e.setState({concept:"",costImport:0,date:""}),e.props.history.goBack(),t.next=27;break;case 24:t.prev=24,t.t1=t.catch(16),console.log(t.t1,"POST expenses error");case 27:case"end":return t.stop()}}),t,null,[[3,11],[16,24]])})));return function(e){return t.apply(this,arguments)}}(),e.sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e.handleFileUpload=function(){var t=Object(P.a)(L.a.mark((function t(a){var n,r,s,c,l,o,i,u;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("image",a.target.files[0]),t.prev=2,t.next=5,_.handleFileUpload(n);case 5:return r=t.sent,e.setState({image:r.secure_url}),t.next=9,d()({method:"POST",url:"https://projectemar.cognitiveservices.azure.com/formrecognizer/v2.1-preview.1/prebuilt/receipt/analyze",headers:{"ocp-apim-subscription-key":"283baf18bf244fb599712265b21633c6","content-type":"application/json"},data:{source:r.secure_url}});case 9:s=t.sent,c=!1;case 11:if(c){t.next=20;break}return t.next=14,d()({method:"GET",url:s.headers["operation-location"],headers:{"ocp-apim-subscription-key":"283baf18bf244fb599712265b21633c6","content-type":"application/json"}});case 14:return l=t.sent,t.next=17,e.sleep(.5);case 17:c="running"!=l.data.status&&"notStarted"!=l.data.status,t.next=11;break;case 20:for(u in o={merchant:l.data.analyzeResult.documentResults[0].fields.MerchantName.text,items:[],date:l.data.analyzeResult.documentResults[0].fields.TransactionDate.text},l.data.analyzeResult.documentResults[0].fields.Items.valueArray)i=l.data.analyzeResult.documentResults[0].fields.Items.valueArray[u],o.items.push({name:i.valueObject.Name.text,price:i.valueObject.TotalPrice.valueNumber});e.setState({ticket:o}),t.next=28;break;case 25:t.prev=25,t.t0=t.catch(2),console.log("Error while uploading the file: ",t.t0);case 28:case"end":return t.stop()}}),t,null,[[2,25]])})));return function(e){return t.apply(this,arguments)}}(),e.sumTicketImports=function(t,a){var n=e.state.ticketTotal;a?n+=t:n-=t,e.setState({ticketTotal:n})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(C.a)({},n,r))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"groups-page"},r.a.createElement("div",{className:"groups-header"},r.a.createElement("img",{src:"./../images/money-transfer-icon.png"}),r.a.createElement("h3",null,"Add cost"),r.a.createElement("p",null,"Introduce a cost manually or upload a photo of your ticket.")),r.a.createElement("div",{className:"create-cost-form"},r.a.createElement("div",null,r.a.createElement("p",null,"Set the concept and import of your purchase or upload the photo will be uploaded automatically. Once it is uploaded you will be able to choose which imports you want to add and which not.")),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",null,r.a.createElement("label",null,"Concept:"),r.a.createElement("input",{type:"text",name:"concept",value:this.state.concept,onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("label",null,"Import:"),r.a.createElement("input",{type:"number",name:"costImport",value:this.state.costImport,onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("label",null,"Date:"),r.a.createElement("input",{type:"date",name:"date",value:this.state.date,onChange:this.handleChange})),r.a.createElement("div",{className:"center-div mt10"},r.a.createElement("input",{type:"submit",value:"ADD COST",className:"input-button-create-group"})),r.a.createElement("label",{for:"image"}," Image: "),r.a.createElement("input",{type:"file",name:"image",value:"",onChange:function(t){return e.handleFileUpload(t)}}),r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeigth:"600"}},this.state.ticket.merchant),r.a.createElement("span",null," | ",this.state.ticket.date),r.a.createElement("ul",null,this.state.ticket.items.map((function(t,a){return r.a.createElement("div",null,r.a.createElement("li",{key:a},t.name),r.a.createElement(B,{calculateTotal:e.sumTicketImports,value:t.price}))}))),r.a.createElement("p",null,"Total: ",this.state.ticketTotal.toFixed(2)))),r.a.createElement("button",{onClick:this.props.history.goBack},"GO BACK")),r.a.createElement("div",{className:"center-div"},r.a.createElement(O,null)))}}]),a}(n.Component)),V=a(38),W=b(function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={search:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(C.a)({},n,r)),e.props.filterMembers(r)},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("input",{type:"text",className:"input search-bar",name:"search",placeholder:"Search",value:this.state.search,onChange:this.handleChange}))}}]),a}(n.Component)),H=(a(79),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={name:"",image:"",members:[],filterMembers:[],theMembers:[]},e.getAllMembers=Object(P.a)(L.a.mark((function t(){var a;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d()({method:"GET",url:"https://project3ih.herokuapp.com/profile/allusers",withCredentials:!0});case 3:a=t.sent,e.setState({members:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0,"GET expenses error");case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e.handleFileUpload=function(){var t=Object(P.a)(L.a.mark((function t(a){var n,r;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new FormData).append("image",a.target.files[0]),t.prev=2,t.next=5,_.handleFileUpload(n);case 5:r=t.sent,e.setState({image:r.secure_url}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log("Error while uploading the file: ",t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),e.filterMembers=function(t){var a=t.toLowerCase(),n=Object(V.a)(e.state.members).filter((function(e){return e.username.toLowerCase().includes(a)}));t?e.setState({filterMembers:n}):e.setState({filterMembers:[]})},e.memberPush=function(){e.state.theMembers.push(e.state.filterMembers[0]),e.setState({theMembers:e.state.theMembers,filterMembers:[]})},e.handleSubmit=function(){var t=Object(P.a)(L.a.mark((function t(a){var n,r,s,c,l;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,r=n.name,s=n.theMembers,c=n.image,l=e.props.match.params,a.preventDefault(),t.prev=3,t.next=6,d()({method:"PATCH",url:"https://project3ih.herokuapp.com"+"/groups/edit/".concat(l.id),withCredentials:!0,data:{name:r,members:s,image:c}});case 6:t.sent,e.setState({name:e.state.name,image:e.state.image,members:[]}),e.props.history.push("/groups"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0,"POST expenses error");case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(C.a)({},n,r))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getAllMembers()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"groups-page"},r.a.createElement("div",{className:"groups-header"},r.a.createElement("img",{src:"./../images/group-big.png"}),r.a.createElement("h3",null,"Create your group"),r.a.createElement("p",null,"Start organizing your group and split your expenses.")),r.a.createElement("div",{className:"create-group-form mt50"},r.a.createElement("h5",null,"Select the members of your group:"),r.a.createElement(W,{filterMembers:this.filterMembers}),this.state.filterMembers.map((function(t){return r.a.createElement("div",null,t.username,r.a.createElement("button",{onClick:e.memberPush,id:"show-all",className:"add-member"},"ADD"))})),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"input-group-create"},r.a.createElement("label",{htmlFor:"username"},"Introduce the name of your group:"),r.a.createElement("input",{type:"text",name:"name",value:this.state.name,onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"image"},"Group's image: "),r.a.createElement("input",{type:"file",name:"image",value:"",onChange:this.handleFileUpload})),r.a.createElement("br",null),r.a.createElement("div",{class:"center-div"},r.a.createElement("input",{type:"submit",value:"SAVE GROUP",className:"input-button-create-group"})))),r.a.createElement("div",{class:"center-div"},r.a.createElement(O,null)))}}]),a}(n.Component)),Y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(y,null,r.a.createElement("div",null,r.a.createElement(j,null),r.a.createElement(p.d,null,r.a.createElement(w,{exact:!0,path:"/",component:T}),r.a.createElement(w,{exact:!0,path:"/arrangements",component:I}),r.a.createElement(w,{exact:!0,path:"/profile",component:U}),r.a.createElement(w,{exact:!0,path:"/profile-edit/:id",component:R}),r.a.createElement(w,{exact:!0,path:"/groups",component:M}),r.a.createElement(w,{exact:!0,path:"/groups-edit/:id",component:function(e){return r.a.createElement(H,e)}}),r.a.createElement(w,{exact:!0,path:"/groups-addCost/:id",component:function(e){return r.a.createElement(z,e)}}),r.a.createElement(w,{exact:!0,path:"/groups/:id",component:function(e){return r.a.createElement(F,e)}}),r.a.createElement(x,{exact:!0,path:"/signup",component:N}),r.a.createElement(x,{exact:!0,path:"/login",component:S}))))}}]),a}(n.Component);c.a.render(r.a.createElement(l.a,null,r.a.createElement(Y,null)),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.4e7ab19a.chunk.js.map