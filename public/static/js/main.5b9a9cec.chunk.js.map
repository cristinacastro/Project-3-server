{"version":3,"sources":["lib/auth-service.js","lib/AuthProvider.js","components/AnonRoute.js","components/PrivateRoute.js","components/Navbar.js","pages/Home.js","pages/Signup.js","pages/Login.js","pages/Dashboard.js","components/EachExpense.js","pages/GroupDetails.js","pages/Arrangements.js","components/EachGroup.js","pages/Groups.js","api/service.js","pages/Profile.js","pages/ProfileEdit.js","components/Checkbox.js","pages/AddCost.js","components/Search.js","pages/AddGroup.js","App.js","index.js"],"names":["axiosRequestFunctions","this","auth","axios","create","baseURL","process","withCredentials","username","email","password","post","then","data","get","React","createContext","Consumer","Provider","withAuth","WrappedComponent","login","signup","user","logout","isLoggedin","props","Component","AuthProvider","state","isLoading","message","setState","catch","response","status","statusText","errorMessage","console","log","err","me","res","prevProps","prevState","value","children","component","rest","render","to","className","src","onClick","class","handleFormSubmit","event","preventDefault","handleChange","target","name","style","backgroundImage","onSubmit","type","placeholder","onChange","checked","changeBoolean","a","method","url","theExpense","_id","payed","deleteExpense","refreshFunction","e","theGroup","members","map","eachMember","payer","beneficiary","expenseImport","toFixed","handleCheckBox","listOfExpenses","listOfCosts","group","location","groupsList","allImports","newArr","total","sum","getCosts","getExpenses","getAllExpenses","getTotal","costs","eachImport","push","costImport","length","reduce","acc","curr","deleteGroup","history","image","pathname","eachCost","date","slice","concept","buyer","eachExpense","key","listOfArrangements","getArrangements","toString","usermame","groups","alt","width","listOfGroups","getAllGroups","createEmptyGroup","window","eachGroup","handleFileUpload","service","userProfile","getUserInfo","profiles","phone","files","uploadData","FormData","append","secure_url","editProfile","id","htmlFor","goBack","calculateTotal","AddCost","receipt","ticket","merchant","items","ticketTotal","handleSubmit","sleep","ms","Promise","resolve","setTimeout","headers","source","receipt_raw","finished","march","obj","analyzeResult","documentResults","fields","MerchantName","text","TransactionDate","Items","valueArray","item","valueObject","Name","price","TotalPrice","valueNumber","sumTicketImports","input","for","fontWeigth","index","search","filterMembers","AddGroup","theMembers","getAllMembers","searchTerm","searchedTerm","toLowerCase","filteredList","filter","memberObj","includes","memberPush","params","match","member","App","exact","path","Dashboard","Arrangements","Profile","ProfileEdit","Groups","Signup","Login","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.5b9a9cec.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nclass Auth {\r\n  constructor() {\r\n    this.auth = axios.create({\r\n      baseURL: process.env.REACT_APP_API_URL,\r\n      withCredentials: true,\r\n    });\r\n  }\r\n\r\n  signup({ username, email, password }) {\r\n    return this.auth\r\n      .post(\"/auth/signup\", { username, email, password })\r\n      .then(({ data }) => data);\r\n    // .then((response) => response.data);\r\n  }\r\n\r\n  login({ email, password }) {\r\n    return this.auth\r\n      .post(\"/auth/login\", { email, password })\r\n      .then(({ data }) => data);\r\n    // .then((response) => response.data);\r\n  }\r\n\r\n  logout() {\r\n    return this.auth.get(\"/auth/logout\", {}).then(({ data }) => data);\r\n    // return this.auth.post(\"/auth/logout\", {}).then((response) => response.data);\r\n  }\r\n\r\n  me() {\r\n    return this.auth.get(\"/auth/me\").then(({ data }) => data);\r\n    // return this.auth.get(\"/auth/me\").then((response) => response.data);\r\n  }\r\n}\r\n\r\nconst axiosRequestFunctions = new Auth();\r\n\r\nexport default axiosRequestFunctions;\r\n","import React, { Component } from \"react\";\r\nimport auth from \"./auth-service\";\r\nconst { Consumer, Provider } = React.createContext();\r\n\r\n// HOC para crear Consumer\r\nconst withAuth = (WrappedComponent) => {\r\n  return class extends Component {\r\n    render() {\r\n      return (\r\n        <Consumer>\r\n          {({ login, signup, user, logout, isLoggedin }) => {\r\n            return (\r\n              <WrappedComponent\r\n                login={login}\r\n                signup={signup}\r\n                user={user}\r\n                logout={logout}\r\n                isLoggedin={isLoggedin}\r\n                {...this.props}\r\n              />\r\n            );\r\n          }}\r\n        </Consumer>\r\n      );\r\n    }\r\n  };\r\n};\r\n\r\n// Provider\r\nclass AuthProvider extends Component {\r\n  state = { isLoggedin: false, user: null, isLoading: true, message: \"\" };\r\n\r\n  componentDidMount() {\r\n    auth\r\n      .me()\r\n      .then((res) => {\r\n        if (res.email) {\r\n          this.setState({ isLoggedin: true, user: res, isLoading: false });\r\n        }\r\n      })\r\n      .catch((err) =>\r\n        this.setState({\r\n          isLoggedin: false,\r\n          user: null,\r\n          isLoading: false,\r\n          message: err.message,\r\n        })\r\n      );\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.isLoggedin !== this.state.isLoggedin) {\r\n      auth\r\n        .me()\r\n        .then((res) => {\r\n          if (res.email && this.state.isLoggedin) {\r\n            this.setState({ isLoggedin: true, user: res, isLoading: false });\r\n          }\r\n        })\r\n        .catch((err) =>\r\n          this.setState({\r\n            isLoggedin: false,\r\n            user: null,\r\n            isLoading: false,\r\n            message: err.message,\r\n          })\r\n        );\r\n    }\r\n  }\r\n\r\n  signup = (user) => {\r\n    const { username, email, password } = user;\r\n\r\n    auth\r\n      .signup({ username, email, password })\r\n      .then((user) => this.setState({ isLoggedin: true, user }))\r\n      .catch(({ response }) => {\r\n        this.setState({ message: {status: response.status, statusText: response.statusText, errorMessage: response.data.errorMessage} })\r\n        console.log(this.state.message);\r\n      }\r\n      );\r\n  };\r\n\r\n  login = (user) => {\r\n    const { email, password } = user;\r\n\r\n    auth\r\n      .login({ email, password })\r\n      .then((user) => this.setState({ isLoggedin: true, user }))\r\n      .catch(({ response }) => {\r\n        this.setState({ message: {status: response.status, statusText: response.statusText, errorMessage: response.data.errorMessage} })\r\n        console.log(this.state.message);\r\n      })\r\n  };\r\n\r\n  logout = () => {\r\n    auth\r\n      .logout()\r\n      .then(() => this.setState({ isLoggedin: false, user: null }))\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  render() {\r\n    const { isLoading, isLoggedin, user } = this.state;\r\n    const { login, logout, signup } = this;\r\n\r\n    return isLoading ? (\r\n      <div>Loading</div>\r\n    ) : (\r\n      <Provider value={{ isLoggedin, user, login, logout, signup }}>\r\n        {this.props.children}\r\n      </Provider>\r\n    ); \r\n  }\r\n}\r\n\r\nexport { Consumer, withAuth }; \r\n\r\nexport default AuthProvider; ","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { withAuth } from \"../lib/AuthProvider\";\r\n\r\nfunction AnonRoute({ component: Component, isLoggedin, ...rest }) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        !isLoggedin ? <Component {...props} /> : <Redirect to=\"/\" />\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default withAuth(AnonRoute);","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { withAuth } from \"../lib/AuthProvider\";\r\n\r\nfunction PrivateRoute({ component: Component, isLoggedin, ...rest }) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        isLoggedin ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default withAuth(PrivateRoute);","import React from 'react'\r\nimport { withAuth } from \"../lib/AuthProvider\";\t\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Navbar.css\";\r\n\r\n\r\nconst Navbar = () => {\r\n  return (\r\n     <nav className=\"navbar\">\r\n        <ul className=\"center-div\">\r\n          <Link to='/'>\r\n            <li><img src=\"./../images/home.jpg\"></img>Dashboard</li>\r\n          </Link>\r\n          <Link to='/groups'>\r\n            <li><img src=\"./../images/group.jpg\"></img>Groups</li>\r\n          </Link>\r\n          <Link to='/arrangements'>\r\n            <li><img src=\"./../images/arrangements.jpg\"></img>Arrangements</li>\r\n          </Link>\r\n          <Link to='/profile'>\r\n            <li><img src=\"./../images/perfil.jpg\"></img>Perfil</li>\r\n          </Link>\r\n        </ul>\r\n      </nav>\r\n  );\r\n}\r\n\r\n\r\nexport default withAuth(Navbar);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { withAuth } from \"../lib/AuthProvider\";\t\r\nimport \"./Home.css\";\r\n\r\n\r\nclass Navbar extends Component {\r\n  render() {\r\n    const { user, logout, isLoggedin } = this.props;\r\n    return (\r\n      <nav className='home center-div'>\r\n        {isLoggedin ? (\r\n          <div className=\"center-div home-loggedin\">\r\n            <>\r\n            <div>\r\n              <img src=\"./../images/splitapp.png\"></img>\r\n            </div>\r\n            < div className=\"center-div\">\r\n              <p>Hello, {user.username} | </p>\r\n              <button onClick={logout}><p>Log Out</p></button>\r\n            </div>\r\n            </>\r\n          </div>\r\n        ) : (\r\n          <div class=\"home-buttons\">\r\n          <>\r\n            <Link to='/login'>\r\n              <button className='navbar-button'>Login</button>\r\n            </Link>\r\n            <br />\r\n            <Link to='/signup'>\r\n              <button className='navbar-button'>Sign Up</button>\r\n            </Link>\r\n          </>\r\n          </div>\r\n        )}\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Navbar);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { withAuth } from \"../lib/AuthProvider\";\t\r\nimport \"./Login.css\";\r\nimport axiosRequestFunctions from \"../lib/auth-service\";\r\n\r\n\r\nclass Signup extends Component {\r\n  state = { username: \"\", email: \"\", password: \"\" };\r\n\r\n  handleFormSubmit = event => {\r\n    event.preventDefault();\r\n    const { username, email, password } = this.state;\r\n    this.props.signup({username, email, password});\r\n    console.log('Signup -> form submit', { username, email, password });\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  render() {\r\n    const { username, email, password } = this.state;\r\n    return (\r\n      <div  className=\"h100 log-container\" style={{backgroundImage: `url(./../images/gradient.jpg)`}}>\r\n        <div className=\"center-div form-container\">\r\n        <h3 className=\"align-left ml10 mb10\">Sign up</h3>\r\n          <form onSubmit={this.handleFormSubmit}  className=\"center-div form-elements w100\">\r\n\r\n            <input type=\"text\" name=\"username\" placeholder=\"Enter your username\" value={username} onChange={this.handleChange} />\r\n\r\n            <input type=\"email\" name=\"email\" placeholder=\"Enter your email\" value={email} onChange={this.handleChange} />\r\n\r\n            <input type=\"password\" name=\"password\" placeholder=\"Enter your password\" value={password} onChange={this.handleChange} />\r\n\r\n            <input type=\"submit\" value=\"Sign up to new account\" className=\"button-input\" />\r\n          </form>\r\n        <div className=\"center-div \">\r\n          <p className=\"mr10\">Already have account?</p>\r\n          <Link to={\"/login\"} className=\"account-link\"> Login</Link>\r\n        </div>\r\n      </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Signup);\r\n","import React, { Component } from \"react\";\r\nimport { withAuth } from \"../lib/AuthProvider\";\t\r\nimport \"./Login.css\";\r\n\r\n\r\nclass Login extends Component {\r\n  state = { email: \"\", password: \"\" };\r\n\r\n  handleFormSubmit = event => {\r\n    event.preventDefault();\r\n    const { email, password } = this.state;\r\n    this.props.login({email, password});\r\n    console.log('Login -> form submit', { email, password });\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  render() {\r\n    const { email, password } = this.state;\r\n\r\n    return (\r\n      <div className=\"h100 log-container\" style={{backgroundImage: `url(./../images/gradient.jpg)`}}>\r\n        <div className=\"center-div form-container\">\r\n          <h3 className=\"align-left ml10 mb10\">Log in</h3>\r\n\r\n        <form onSubmit={this.handleFormSubmit} className=\"center-div form-elements w100\">\r\n          \r\n          <input type=\"text\" name=\"email\" placeholder=\"Enter your email\" value={email} onChange={this.handleChange}/>\r\n\r\n          <input type=\"password\" name=\"password\" placeholder=\"Enter your password\" value={password} onChange={this.handleChange} />\r\n\r\n          <input type=\"submit\" value=\"Login to your account\" className=\"button-input\"/>\r\n        </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Login);\r\n","import React, { Component } from \"react\";\r\nimport { withAuth } from \"../lib/AuthProvider\";\t\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport \"./Dashboard.css\";\r\n\r\n\r\n\r\n\r\nimport Navbar from \"../components/Navbar\"\r\n\r\nclass Dashboard extends Component {\r\n\r\n \r\n  render() {\r\n    return (\r\n      <div className=\"page dashboard\">\r\n        <div>\r\n        \r\n          <h3>Dashboard</h3>\r\n          <div className=\"center-div dash-btn\">\r\n            <div>\r\n            <img src=\"./../images/idea-icon.png\"></img>\r\n            </div>\r\n            <div>\r\n          <h4>Groups</h4>\r\n          <p>Access to all your active grups and check all the costs and expenses.</p>\r\n            <Link to='/groups'><button>VIEW GROUPS</button></Link>\r\n          </div>\r\n          </div>\r\n          <div className=\"center-div dash-btn\">\r\n            <div>\r\n          <img src=\"./../images/money-transfer-icon.png\"></img>\r\n          </div>\r\n          <div>\r\n            <h4>Arrangements</h4>\r\n            <p>Check all your current debts and your pending incomes.</p>\r\n            <Link to='/arrangements'><button>VIEW ARRANGEMENTS</button></Link>\r\n          </div>\r\n          \r\n          </div>\r\n          <div className=\"center-div dash-btn\">\r\n            <div>\r\n            <img src=\"./../images/resume-icon.png\"></img>\r\n            </div>\r\n            <div>\r\n          <h4>Profile</h4>\r\n          <p>Access to all your active grups and check all the costs and expenses.</p>\r\n            <Link to='/profile'><button>VIEW YOUR PROFILE</button></Link>\r\n          </div>\r\n          </div>\r\n        </div>\r\n          <Navbar/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Dashboard);\r\n","import React, { Component } from 'react'\r\nimport { withAuth } from \"../lib/AuthProvider\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport \"./EachExpense.css\";\r\n\r\n\r\n\r\nclass EachExpense extends Component {\r\n\r\n    state = {\r\n        checked: false\r\n      };\r\n\r\n       \r\n    changeBoolean = async () => {\r\n    \r\n        try {\r\n          const res = await axios({\r\n            method: \"PATCH\",\r\n            url: process.env.REACT_APP_API_URL + `/expenses/edit/${this.props.theExpense._id}`,\r\n            withCredentials: true,\r\n            data: {payed: this.state.checked}\r\n          });\r\n    \r\n        } catch (error) {\r\n          console.log(error, \"GET expenses error\");\r\n        }\r\n      }\r\n\r\n\r\n   deleteExpense = async () => {\r\n    try {\r\n      const res = await axios({\r\n        method: \"DELETE\",\r\n        url: process.env.REACT_APP_API_URL + `/expenses/delete/${this.props.theExpense._id}`,\r\n        withCredentials: true,\r\n      });\r\n      this.props.refreshFunction()\r\n    } catch (error) {\r\n      console.log(error, \"GET expenses error\");\r\n    }\r\n  }\r\n \r\n\r\n    \r\n      async handleCheckBox(e) {\r\n        await this.changeBoolean()\r\n\r\n        this.setState({\r\n          checked: !this.state.checked\r\n        })\r\n      }\r\n    \r\n    render() {\r\n        console.log(this.props.theExpense, \"hhh\")\r\n        return (\r\n            <div className=\"each-cost\">\r\n                 <div className=\"each-cost-section\">\r\n                   <div className=\"each-cost-phrase\">\r\n                          {this.props.theGroup.members.map(eachMember =>{\r\n                              if(eachMember._id == this.props.theExpense.payer){\r\n                                  return (\r\n                                   <p>{eachMember.username }</p>\r\n                                      )\r\n                                  }\r\n                              })}\r\n                     \r\n                          <p>owes</p>\r\n                          \r\n                      {this.props.theGroup.members.map(eachMember =>{\r\n                          if(eachMember._id == this.props.theExpense.beneficiary){\r\n                              return (\r\n                                  <p> {eachMember.username} </p>\r\n                                  )\r\n                              }\r\n                          })}\r\n                        <p>{this.props.theExpense.expenseImport.toFixed(2)}€</p>\r\n                    </div>\r\n                        <button onClick={this.deleteExpense} >Delete</button>\r\n                    </div>\r\n                    <div className=\"check-div\">\r\n                      <p>Paid</p>\r\n                      <input type=\"checkbox\" onChange= {(e)=> this.handleCheckBox(e)} checked={this.state.checked}  />\r\n                    </div>\r\n\r\n                  \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport default withAuth(EachExpense);\r\n","import React, { Component } from \"react\";\r\nimport { withAuth } from \"../lib/AuthProvider\";\r\nimport { Link } from \"react-router-dom\";\r\nimport EachExpense from \"../components/EachExpense\";\r\nimport axios from \"axios\";\r\nimport { isElementOfType } from \"react-dom/test-utils\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport \"./GroupDetails.css\";\r\nimport \"./Groups.css\";\r\n\r\n\r\n\r\nclass GroupDetails extends Component {\r\n  state = {\r\n    listOfExpenses: [],\r\n    listOfCosts: [],\r\n    group: this.props.location.state.groupsList,\r\n    allImports: [],\r\n    newArr: [],\r\n    total: 0,\r\n    sum: 0,\r\n    checked: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getTotal();\r\n    this.getCosts();\r\n  }\r\n  \r\n\r\n  getCosts= async () => {\r\n    try {\r\n      const res = await axios({\r\n        method: \"GET\",\r\n        url:\r\n          process.env.REACT_APP_API_URL +\r\n          `/all-costs/${this.state.group._id}`,\r\n        withCredentials: true,\r\n      });\r\n      this.setState({\r\n        listOfCosts: res.data,\r\n      });\r\n      console.log(res.data, \"olita\");\r\n    } catch (error) {\r\n      console.log(error, \"GET expenses error\");\r\n    }\r\n  };\r\n\r\n  getExpenses = async () => {\r\n    try {\r\n      const res = await axios({\r\n        method: \"GET\",\r\n        url:\r\n          process.env.REACT_APP_API_URL +\r\n          `/expenses/all/${this.state.group._id}`,\r\n        withCredentials: true,\r\n      });\r\n      this.setState({\r\n        listOfExpenses: res.data,\r\n      });\r\n      console.log(res, \"lisFoExpenses\");\r\n    } catch (error) {\r\n      console.log(error, \"GET expenses error\");\r\n    }\r\n  };\r\n\r\n  getAllExpenses = async () => {\r\n    try {\r\n      const res = await axios({\r\n        method: \"GET\",\r\n        url:\r\n          process.env.REACT_APP_API_URL +\r\n          `/expenses/add/${this.state.group._id}`,\r\n        withCredentials: true,\r\n      });\r\n      console.log(res, \"gjirwgj\");\r\n\r\n      this.setState({\r\n        listOfExpenses: res.data,\r\n      });\r\n      console.log(res, \"lisFoExpenses\");\r\n    } catch (error) {\r\n      console.log(error, \"GET expenses error\");\r\n    }\r\n  };\r\n\r\n  getTotal = () => {\r\n    this.state.group.costs.map((eachImport) => {\r\n      this.state.newArr.push(eachImport.costImport);\r\n    });\r\n    this.setState({\r\n      newArr: this.state.newArr,\r\n    });\r\n    console.log(this.state.newArr, \"imports\");\r\n    if (this.state.newArr.length == 0) {\r\n      this.state.sum = 0;\r\n    } else if (this.state.newArr.length == 1) {\r\n      this.state.sum = this.state.newArr[0];\r\n    } else {\r\n      this.state.newArr.reduce((acc, curr) => {\r\n        this.state.sum = acc + curr;\r\n        return this.state.sum;\r\n      });\r\n    }\r\n  };\r\n\r\n  deleteGroup = async () => {\r\n    try {\r\n      const res = await axios({\r\n        method: \"DELETE\",\r\n        url:\r\n          process.env.REACT_APP_API_URL +\r\n          `/groups/delete/${this.state.group._id}`,\r\n        withCredentials: true,\r\n      });\r\n      this.props.history.push(\"/groups\")\r\n\r\n    } catch (error) {\r\n      console.log(error, \"GET expenses error\");\r\n    }\r\n  };\r\n\r\n  \r\n\r\n  render() {\r\n    return (\r\n      <div className=\"groups-details-page\">\r\n         <div className=\"groups-details-header\">\r\n            {/* <button onClick={this.props.history.goBack}>Go Back</button> */}\r\n            <img src={this.state.group.image} className=\"group-image\"/>\r\n            <h3>{this.state.group.name}</h3>\r\n            <h6> This group has {this.state.group.members.length} members</h6>\r\n              <button onClick={this.deleteGroup}>Delete group</button>\r\n          </div>\r\n\r\n          <div className=\"group-details-body\">\r\n            \r\n            <div className=\"group-details-content\">\r\n              <div className=\"cost-list-section\">\r\n                <h3>Costs list</h3>\r\n              <Link className=\"input-button-datils\" to={{pathname: `/groups-addCost/${this.state.group._id}`,\r\n                  state: { groupsList: this.state.group },\r\n                }}\r\n              >\r\n                ADD COST\r\n              </Link>\r\n\r\n                          {this.state.listOfCosts.map((eachCost) => {\r\n                            console.log(eachCost, \"cada cost\");\r\n                            return (\r\n                              <div className=\"each-cost\">\r\n                                <div className=\"each-cost-section\">\r\n                                <p>Date: {eachCost.date && eachCost.date.slice(0, 10)}</p>\r\n                                <h3>{eachCost.concept}</h3>\r\n\r\n\r\n                                </div>\r\n                                <div className=\"each-cost-section align-right\">\r\n                                <h2>{eachCost.costImport}€</h2>\r\n                                {this.state.group.members.map((eachMember) => {\r\n                                  if (eachMember._id === eachCost.buyer) {\r\n                                    return <p>Paid by <span>{eachMember.username}</span></p>;\r\n                                  }\r\n                                })}\r\n                                </div>\r\n                              </div>\r\n                            );\r\n                          })}\r\n                \r\n                <div className=\"total-cost-div\">\r\n                  {/* <div>\r\n                    <span>Total costs:</span>\r\n                  </div>\r\n                  <div className=\"center-div\">\r\n                    <h4>{this.state.sum}€</h4>\r\n                  </div> */}\r\n                </div>\r\n              </div>\r\n\r\n\r\n\r\n              <div className=\"cost-list-section\">\r\n                <h3>All Expenses</h3>\r\n                <div>\r\n                  <button onClick={this.getAllExpenses} className=\"input-button-datils\">SPLIT EXPENSES</button>\r\n                </div>\r\n\r\n                {this.state.listOfExpenses.map((eachExpense) => {\r\n                  return (\r\n                    <div>\r\n                      <EachExpense\r\n                        key={eachExpense._id}\r\n                        theExpense={eachExpense}\r\n                        theGroup={this.state.group}\r\n                        refreshFunction={this.getExpenses}\r\n                      />\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"center-div\">\r\n          <Navbar />\r\n          </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(GroupDetails);\r\n","import React, { Component } from \"react\";\r\nimport { withAuth } from \"../lib/AuthProvider\";\t\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport auth from \"../lib/auth-service\";\r\nimport GroupDetails from \"./GroupDetails\";\r\nimport Navbar from \"../components/Navbar\"\r\nimport \"./Arrangements.css\";\r\n\r\n\r\n\r\nclass Arrangements extends Component {\r\n\r\n state = {\r\n    listOfArrangements: [],\r\n  }\r\n\r\n  getArrangements = async () => {\r\n    try{\r\n        const res = await axios({\r\n            method: 'GET',\r\n            url: process.env.REACT_APP_API_URL +'/arrangements', \r\n            withCredentials: true\r\n        })\r\n\r\n         this.setState({\r\n          listOfArrangements: res.data\r\n        });\r\n      } catch (error) {\r\n      console.log(error, 'GET expenses error')\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n        this.getArrangements();\r\n    }\r\n    render() {\r\n        //console.log(this.props.user._id, \"dsf\")\r\n        \r\n        \r\n        return (\r\n            <div className=\"groups-page\">\r\n        <div className=\"groups-header mb10\">\r\n          <img src=\"./../images/arrengements-icon.png\"></img>\r\n          <h3>Your debts and incomes<br></br>at a glance</h3>\r\n            </div>\r\n            <div>\r\n                 <div  className=\"center-div arrengementContainer\">\r\n                 <h5  className=\"mb10\">That's what you owe</h5>\r\n                    {this.state.listOfArrangements.map(eachExpense => {\r\n                    if(eachExpense.payer._id.toString() == this.props.user._id.toString()){\r\n                        console.log(\"cfsfvvv\")\r\n                        return (\r\n                            <div className = \"arrengementDetails\">\r\n                            <img src=\"./../images/debts.png\"></img>\r\n                            <div className = \"arrengementText\">\r\n                            <h6>\r\n                     {eachExpense.beneficiary.username} owes{\" \"}\r\n                     {eachExpense.payer.username}{\" \"}\r\n                     <span className=\"you-owe\">{eachExpense.expenseImport.toFixed(2)}</span> euros\r\n                   </h6>\r\n                           </div>\r\n                           \r\n                           </div>\r\n                        )\r\n                    }\r\n              \r\n                               \r\n                    })}\r\n                </div> \r\n            \r\n                <div className=\"center-div arrengementContainer\">\r\n                <h5 className=\"mb10\">That's what you're owed</h5>\r\n                    {this.state.listOfArrangements.map(eachExpense => {\r\n                        console.log(eachExpense.beneficiary._id.usermame)\r\n                    if(eachExpense.beneficiary._id.toString() == this.props.user._id.toString()){\r\n                        return (\r\n                            <div className = \"arrengementDetails\">\r\n                             <img src=\"./../images/incomes.png\"></img>\r\n                             <div className = \"arrengementText\">\r\n                             <h6>\r\n                      {eachExpense.payer.username} owes{\" \"}\r\n                      {eachExpense.beneficiary.username}{\" \"}\r\n                      <span className=\"you-owed\">{eachExpense.expenseImport.toFixed(2)}</span> euros\r\n                    </h6>\r\n                            </div>\r\n                            \r\n                            </div>\r\n                        )\r\n                    }\r\n\r\n                  \r\n            \r\n                    \r\n                    })}\r\n                </div> \r\n                </div>\r\n                <div className=\"center-div\">\r\n                <Navbar/> \r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withAuth(Arrangements);\r\n","import React from \"react\";\r\nimport { withAuth } from \"../lib/AuthProvider\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./EachGroup.css\";\r\n\r\n\r\nconst EachGroup = ({ groups }) => {\r\n    console.log(groups ,\"grups\")\r\n  return (\r\n    <div className=\"group-list-item\">\r\n    \r\n      <Link to={{pathname:`/groups/${groups._id}`, state: {groupsList: groups}}} className=\"w100\">\r\n        <div className=\"group-list-image w100\">\r\n          <div  className=\"group-icon-name w100\">\r\n            <div >\r\n              <img src={groups.image} alt=\"group pic\" width=\"100\" />\r\n            </div>\r\n            <div className=\"group-list-text\">\r\n              <h6>{groups.name}</h6>\r\n              {groups.members.map((eachMember) => {\r\n                return (\r\n                <span key={eachMember._id} >{eachMember.username},  </span>\r\n                )\r\n              })}\r\n              <br></br>\r\n            </div>\r\n          </div>\r\n          <div className=\"view-group\">\r\n            <p>VIEW GROUP</p>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withAuth(EachGroup);\r\n","import React, { Component } from \"react\";\r\nimport { withAuth } from \"../lib/AuthProvider\";\t\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport axios from 'axios';\r\nimport auth from \"../lib/auth-service\";\r\nimport EachGroup from \"../components/EachGroup\";\r\nimport Navbar from \"../components/Navbar\"\r\nimport \"./Groups.css\";\r\n\r\n\r\n\r\nclass Groups extends Component {\r\n\r\n state = {\r\n    listOfGroups: [],\r\n  }\r\n\r\n  getAllGroups = async () => {\r\n    try{\r\n        const res = await axios({\r\n            method: 'GET',\r\n            url: process.env.REACT_APP_API_URL + '/groups', \r\n            withCredentials: true\r\n        })\r\n\r\n         this.setState({\r\n            listOfGroups: res.data\r\n        });\r\n      } catch (error) {\r\n      console.log(error, 'GET expenses error')\r\n    }\r\n  }\r\n\r\n  createEmptyGroup = async(e) => {\r\n    e.preventDefault();\r\n    console.log('hola')\r\n    try{\r\n        const res = await axios({\r\n            method: 'POST',\r\n            url: process.env.REACT_APP_API_URL + `/groups/add`, \r\n            withCredentials: true,\r\n           \r\n        })\r\n        window.location = `/groups-edit/${res.data._id}`\r\n\r\n    } catch (error) {\r\n        console.log(error, 'POST expenses error')\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n        this.getAllGroups();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n         \r\n            <div className=\"groups-page\">\r\n              <div className=\"groups-header\">\r\n                <img src=\"./../images/idea-icon.png\"></img>\r\n                <h3>What are you sharing <br></br>today?</h3>\r\n                {/* <p>In this section you can add as many groups as you want and start spliting expenses in an easy way.</p> */}\r\n              </div>\r\n              <div className=\"group-list-button\">\r\n                <div className=\"center-div mb10\">\r\n                <button onClick={this.createEmptyGroup} className=\"input-button\">CREATE GROUP</button>\r\n                </div>\r\n                      <div>\r\n                      {this.state.listOfGroups.map(eachGroup => {\r\n                          console.log(eachGroup, \"cada grup\")\r\n                          return (\r\n                            <EachGroup key={eachGroup._id} groups={eachGroup}/>\r\n                          )\r\n                        })}\r\n                      </div>\r\n              </div>\r\n              <div className=\"center-div\">\r\n              <Navbar/> \r\n              </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withAuth(Groups);\r\n","import axios from \"axios\";\r\n\r\nclass Service {\r\n  constructor() {\r\n    this.service = axios.create({\r\n      baseURL: process.env.REACT_APP_API_URL,\r\n      withCredentials: true,\r\n    });\r\n  }\r\n  handleFileUpload = async (image) => {\r\n    console.log(\"file in service: \", image);\r\n\r\n    try {\r\n      const res = await this.service.post(\"/upload\", image);\r\n      return res.data;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n}\r\n\r\nconst axiosRequestFunctions = new Service();\r\n\r\nexport default axiosRequestFunctions;\r\n","import React, { Component } from \"react\";\r\nimport { withAuth } from \"../lib/AuthProvider\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport service from \"../api/service\";\r\n\r\nimport \"./Profile.css\";\r\n\r\n\r\nclass Profile extends Component {\r\n\r\n  state = {\r\n    userProfile: {},\r\n  };\r\n\r\n  getUserInfo = async () => {\r\n    try {\r\n      const res = await axios({\r\n        method: \"GET\",\r\n        url: process.env.REACT_APP_API_URL + \"/profile\",\r\n        withCredentials: true,\r\n      });\r\n      this.setState({\r\n        userProfile: res.data,\r\n      });\r\n      console.log(this.state.userProfile, \"hhh\")\r\n    } catch (error) {\r\n      console.log(error, \"GET expenses error\");\r\n    }\r\n  };\r\n  componentDidMount() {\r\n    this.getUserInfo();\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"page profile\">\r\n      \r\n        <div className=\"cover\">\r\n              <img className=\"profile-img\" src={this.state.userProfile.image}/>\r\n        </div>\r\n  \r\n          <div className=\"profile-container-flex\">\r\n              <div className=\"profile-items\">\r\n                <div className=\"edit-div\">\r\n              <h4>Your profile</h4>\r\n              <Link to= {`/profile-edit/${this.state.userProfile._id}`} profiles={this.state.userProfile}><img src=\"./../images/edit-icon.jpg\"/></Link>\r\n              </div>\r\n                {/* <img src=\"./../images/fondo.jpg\" /> */}\r\n                <p>Username:</p>\r\n                <h5>{this.state.userProfile.username}</h5>\r\n                <hr></hr>\r\n             \r\n                <p>Email:</p>\r\n                <h5>{this.state.userProfile.email}</h5>\r\n                <hr></hr>\r\n                <p>Phone:</p>\r\n                <h5>{this.state.userProfile.phone}</h5>\r\n                <hr></hr>\r\n                <p>Pyment method:</p>\r\n                <h5>Bizum</h5>\r\n             <hr></hr>\r\n              </div>\r\n          </div>\r\n         <Navbar/> \r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default withAuth(Profile);\r\n","import React, { Component } from \"react\";\r\nimport { withAuth } from \"../lib/AuthProvider\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport service from \"../api/service\";\r\nimport \"./Profile.css\";\r\n\r\n\r\nclass Profile extends Component {\r\n  state = {\r\n    username: \"\",\r\n    image: \"\",\r\n    phone: \"\",\r\n  };\r\n\r\n\r\n  handleFileUpload = async (e) => {\r\n    console.log(\"the file to be uploadesd is: \", e.target.files[0]);\r\n    const uploadData = new FormData();\r\n    uploadData.append(\"image\", e.target.files[0]);\r\n    try {\r\n      const res = await service.handleFileUpload(uploadData);\r\n      console.log(\"response is\", res);\r\n      this.setState({ image: res.secure_url });\r\n    } catch (error) {\r\n      console.log(\"Error while uploading the file: \", error);\r\n    }\r\n  };\r\n\r\n\r\n  editProfile = async (id, username, image, phone) => {\r\n    try {\r\n      const res = await axios({\r\n        method: \"PATCH\",\r\n        url: process.env.REACT_APP_API_URL + `/profile/edit/${id}`,\r\n        withCredentials: true,\r\n        data: { id, username, image, phone }\r\n      })\r\n      console.log(res.data, \"resp\")\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  handleFormSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const { username, image, phone } = this.state\r\n    console.log(username, \"usern\")\r\n    const id = this.props.user._id\r\n    this.editProfile(id, username, image, phone)\r\n\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    let { name, value } = e.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  render() {\r\n    console.log(this.props, \"props\")\r\n    console.log(this.state, \"state\")\r\n    return (\r\n      <div className=\"page profile\">\r\n        <div className=\"cover\">\r\n          {/* <button onClick={this.props.history.goBack}><img src=\"./../images/bacwk.png\"></img></button> */}\r\n          \r\n        </div>\r\n        <div className=\"profile-container-flex\">\r\n          <div className=\"profile-items\">\r\n            <div className=\"edit-div edit-profile-form\">\r\n              <h4>Edit your profile</h4>\r\n              <form onSubmit={this.handleFormSubmit} >\r\n                <label htmlFor=\"username\">Name:</label>\r\n                <input\r\n                  id=\"username\"\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  value={this.username}\r\n                  onChange={this.handleChange}\r\n                />\r\n\r\n                <label htmlFor=\"image\"> Image: </label>\r\n                <input\r\n                  id=\"image\"\r\n                  type=\"file\"\r\n                  name=\"image\"\r\n                  onChange={this.handleFileUpload}\r\n                />\r\n\r\n                <label htmlFor=\"phone\">Edit phone</label>\r\n                <input\r\n                  id=\"phone\"\r\n                  type=\"text\"\r\n                  name=\"phone\"\r\n                  value={this.phone}\r\n                  onChange={this.handleChange}\r\n                />\r\n                <div>\r\n                  <input type=\"submit\" value=\"SAVE PROFILE\"className=\"input-button edit-profile\" onClick={this.props.history.goBack} />\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Navbar />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default withAuth(Profile);\r\n","import React, { Component } from 'react'\r\nimport { withAuth } from \"../lib/AuthProvider\";\r\nimport \"./Checkbox.css\";\r\n\r\n\r\nclass Checkbox extends Component {\r\n    state = {\r\n        checked: false\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"checkbox-container\">\r\n              {this.props.value}\r\n            <input className=\"input-checkbox-size\"\r\n              type=\"checkbox\"\r\n              value={this.state.checked}\r\n              onClick={() => {\r\n                this.setState(prevState => ({\r\n                  checked: !prevState.checked\r\n                }));\r\n    \r\n                this.props.calculateTotal(this.props.value, !this.state.checked);\r\n              }}\r\n            />{\" \"}\r\n          </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default withAuth(Checkbox);\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport service from \"../api/service\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Navbar from \"../components/Navbar\"\r\nimport Checkbox from \"../components/Checkbox\"\r\nimport \"./AddCost.css\";\r\nimport \"./Groups.css\";\r\n\r\n\r\nexport default class AddCost extends Component {\r\n  state = {\r\n    concept: \"\",\r\n    costImport: 0,\r\n    date: \"\",\r\n    receipt: {},\r\n    ticket: {\r\n      merchant: \"\",\r\n      items: [],\r\n      date: \"\"\r\n    },\r\n    ticketTotal: 0\r\n  };\r\n\r\n  handleSubmit = async (e) => {\r\n    const { concept, costImport, date, ticketTotal, ticket } = this.state;\r\n    e.preventDefault();\r\n    console.log(\"hola\");\r\n    if(ticket.items.length > 0){\r\n      try {\r\n        const res = await axios({\r\n          method: \"POST\",\r\n          url:\r\n            process.env.REACT_APP_API_URL +\r\n            `/costs/add/${this.props.location.state.groupsList._id}`,\r\n          withCredentials: true,\r\n          data: { concept: ticket.merchant, costImport: ticketTotal, date: ticket.date },\r\n        });\r\n        this.setState({\r\n          ticket: {\r\n            merchant: \"\",\r\n            items: [],\r\n            date: \"\"\r\n          },\r\n          ticketTotal: 0\r\n        });\r\n        this.props.history.goBack()\r\n      } catch (error) {\r\n        console.log(error, \"POST expenses error\");\r\n      }\r\n    } else {\r\n      try {\r\n        const res = await axios({\r\n          method: \"POST\",\r\n          url:\r\n          process.env.REACT_APP_API_URL +\r\n          `/costs/add/${this.props.location.state.groupsList._id}`,\r\n          withCredentials: true,\r\n          data: { concept: concept, costImport: costImport, date: date },\r\n        });\r\n        this.setState({\r\n          concept: \"\",\r\n          costImport: 0,\r\n          date: \"\"\r\n        });\r\n        console.log(this.props.location.state.groupsList._id, 'holi')\r\n      this.props.history.goBack()\r\n    } catch (error) {\r\n      console.log(error, \"POST expenses error\");\r\n    }\r\n  }\r\n\r\n  };\r\n  sleep = (ms) => {\r\n    return new Promise((resolve) => setTimeout(resolve, ms));\r\n  };\r\n  handleFileUpload = async (e) => {\r\n    console.log(\"the file to be uploadesd is: \", e.target.files[0]);\r\n    const uploadData = new FormData();\r\n    uploadData.append(\"image\", e.target.files[0]);\r\n    try {\r\n      const res = await service.handleFileUpload(uploadData);\r\n      console.log(\"response is\", res);\r\n      this.setState({ image: res.secure_url }); //Fins aqui es igual que pujar la imatge al perfil\r\n      const receipt_raw = await axios({\r\n        method: \"POST\",\r\n        url:\r\n          \"https://projectemar.cognitiveservices.azure.com/formrecognizer/v2.1-preview.1/prebuilt/receipt/analyze\",\r\n        headers: {\r\n          \"ocp-apim-subscription-key\": process.env.REACT_APP_RECEIPT_API_KEY,\r\n          \"content-type\": \"application/json\",\r\n        },\r\n        data: { source: res.secure_url },\r\n      }); // FEM LA PETICIO A MICROSOFT EN LA URL DE CLOUDINARY\r\n      console.log(receipt_raw, 'receipt_e');\r\n\r\n      let finished = false;\r\n      let receipt;\r\n      while (!finished) {\r\n        receipt = await axios({\r\n          method: \"GET\",\r\n          url: receipt_raw.headers[\"operation-location\"], // HO POSEM EN CORXETES PERQUE NO ACCEPTA DOT NOTATION\r\n          headers: {\r\n            \"ocp-apim-subscription-key\": \"283baf18bf244fb599712265b21633c6\",\r\n            \"content-type\": \"application/json\",\r\n          },\r\n        });\r\n        await this.sleep(0.5);\r\n        console.log(receipt.data.status);\r\n        if (\r\n          receipt.data.status == \"running\" ||\r\n          receipt.data.status == \"notStarted\"\r\n        ) {\r\n          finished = false;\r\n        } else {\r\n          finished = true;\r\n        }\r\n      }\r\n\r\n       \r\n      console.log(receipt.data);\r\n      let obj = {\r\n        merchant:\r\n          receipt.data.analyzeResult.documentResults[0].fields.MerchantName\r\n            .text,\r\n        items: [],\r\n        date: \r\n          receipt.data.analyzeResult.documentResults[0].fields.TransactionDate.text\r\n      };\r\n      let item;\r\n      for (var march in receipt.data.analyzeResult.documentResults[0].fields\r\n        .Items.valueArray) {\r\n        item =\r\n          receipt.data.analyzeResult.documentResults[0].fields.Items.valueArray[\r\n            march\r\n          ];\r\n\r\n        obj.items.push({\r\n          name: item.valueObject.Name.text,\r\n          price: item.valueObject.TotalPrice.valueNumber,\r\n        });\r\n      }\r\n      this.setState({ ticket: obj });\r\n    } catch (error) {\r\n      console.log(\"Error while uploading the file: \", error);\r\n    }\r\n  };\r\n\r\n  sumTicketImports = ((input, checked) =>{\r\n    let { ticketTotal } = this.state;\r\n\r\n    if (checked) {\r\n      ticketTotal += input\r\n    } else {\r\n      ticketTotal -= input\r\n    }\r\n    \r\n    this.setState({\r\n      ticketTotal\r\n    });\r\n  })\r\n\r\n  handleChange = (e) => {\r\n    let { name, value } = e.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"groups-page\">\r\n        <div className=\"groups-header\">\r\n        <img src=\"./../images/money-transfer-icon.png\"></img>\r\n\r\n          <h3>Add cost</h3>\r\n          <p>Introduce a cost manually or upload a photo of your ticket.</p>\r\n        </div>\r\n        <div className=\"create-cost-form\">\r\n        <div>\r\n        <p>Set the concept and import of your purchase or upload the photo will be uploaded automatically. Once it is uploaded you will be able to choose which imports you want to add and which not.</p>\r\n        </div>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div>\r\n            <label>Concept:</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"concept\"\r\n              value={this.state.concept}\r\n              onChange={this.handleChange}\r\n              />\r\n          </div>\r\n\r\n          <div>\r\n            <label>Import:</label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"costImport\"\r\n              value={this.state.costImport}\r\n              onChange={this.handleChange}\r\n              />\r\n          </div>\r\n          <div>\r\n            <label>Date:</label>\r\n            <input\r\n              type=\"date\"\r\n              name=\"date\"\r\n              value={this.state.date}\r\n              onChange={this.handleChange}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"center-div mt10\">\r\n            <input type=\"submit\" value=\"ADD COST\" className=\"input-button-create-group\"/>\r\n          </div>\r\n          <label for=\"image\"> Image: </label>\r\n          <input\r\n            type=\"file\"\r\n            name=\"image\"\r\n            value=\"\"\r\n            onChange={(e) => this.handleFileUpload(e)}\r\n            />\r\n          <div>\r\n            <span style={{fontWeigth:'600'}}>{this.state.ticket.merchant}</span>\r\n            <span> | {this.state.ticket.date}</span>\r\n\r\n            <ul>\r\n              {this.state.ticket.items.map((item, index) => {\r\n                console.log(item)\r\n                return (\r\n                  <div>\r\n                    <li key={index}>\r\n                      {item.name}\r\n                    </li>\r\n                    <Checkbox calculateTotal={this.sumTicketImports} value={item.price}/>\r\n                  </div>\r\n                );\r\n              })}\r\n            </ul>\r\n            <p>Total: {this.state.ticketTotal.toFixed(2)}</p>\r\n\r\n          </div>\r\n        </form>\r\n        <button onClick={this.props.history.goBack} >GO BACK</button>\r\n        </div>\r\n        <div className=\"center-div\">\r\n        <Navbar/> \r\n        </div>  \r\n      </div>\r\n    \r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport { withAuth } from \"../lib/AuthProvider\";\t\r\n\r\n\r\nclass Search extends Component {\r\n  state = {\r\n    search: \"\"\r\n  }\r\n\r\n  handleChange = e => {\r\n    const { name, value } = e.target;\r\n      this.setState({[name]: value})\r\n      this.props.filterMembers(value);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <input \r\n          type=\"text\" \r\n          className=\"input search-bar\" \r\n          name=\"search\" \r\n          placeholder=\"Search\" \r\n          value={this.state.search} \r\n          onChange={this.handleChange} \r\n        />\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default withAuth(Search);\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport Search from \"../components/Search\";\r\nimport service from \"../api/service\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport { Redirect } from \"react-router\";\r\nimport \"./AddGroup.css\";\r\nimport \"./Groups.css\";\r\n\r\n\r\n\r\n\r\nexport default class AddGroup extends Component {\r\n  state = {\r\n    name: \"\",\r\n    image: \"\",\r\n    members: [],\r\n    filterMembers: [],\r\n    theMembers: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getAllMembers();\r\n  }\r\n\r\n  getAllMembers = async () => {\r\n    try {\r\n      const res = await axios({\r\n        method: \"GET\",\r\n        url: process.env.REACT_APP_API_URL + \"/profile/allusers\",\r\n        withCredentials: true,\r\n      });\r\n\r\n      this.setState({\r\n        members: res.data,\r\n      });\r\n      console.log(this.state.members, 'members all');\r\n    } catch (error) {\r\n      console.log(error, \"GET expenses error\");\r\n    }\r\n  };\r\n\r\n  handleFileUpload = async (e) => {\r\n    console.log(\"the file to be uploadesd is: \", e.target.files[0]);\r\n    const uploadData = new FormData();\r\n    uploadData.append(\"image\", e.target.files[0]);\r\n    try {\r\n      const res = await service.handleFileUpload(uploadData);\r\n      console.log(\"response is\", res);\r\n      this.setState({ image: res.secure_url });\r\n    } catch (error) {\r\n      console.log(\"Error while uploading the file: \", error);\r\n    }\r\n  };\r\n\r\n  filterMembers = (searchTerm) => {\r\n    const searchedTerm = searchTerm.toLowerCase();\r\n    const filteredList = [...this.state.members].filter((memberObj) => {\r\n      return memberObj.username.toLowerCase().includes(searchedTerm);\r\n    });\r\n    if (searchTerm) {\r\n      this.setState({ filterMembers: filteredList });\r\n    } else {\r\n      this.setState({ filterMembers: [] });\r\n    }\r\n    console.log(this.state.filterMembers, \"filter\")\r\n  };\r\n\r\n  memberPush = () => {\r\n    this.state.theMembers.push(this.state.filterMembers[0]);\r\n    this.setState({\r\n      theMembers: this.state.theMembers,\r\n      filterMembers: [],\r\n    });\r\n    console.log(this.state.theMembers, \"jgrni9gjr\");\r\n  };\r\n\r\n  handleSubmit = async (e) => {\r\n    const { name, theMembers, image } = this.state;\r\n    const { params } = this.props.match;\r\n\r\n    e.preventDefault();\r\n    console.log(\"hola\");\r\n    try {\r\n      const res = await axios({\r\n        method: \"PATCH\",\r\n        url: process.env.REACT_APP_API_URL + `/groups/edit/${params.id}`,\r\n        withCredentials: true,\r\n        data: { name: name, members: theMembers, image: image },\r\n      });\r\n      console.log(res);\r\n      //console.log(this.props.location.state.groupsList);\r\n      this.setState({\r\n        name: this.state.name,\r\n        image: this.state.image,\r\n        members: [],\r\n      });\r\n       this.props.history.push('/groups')\r\n    } catch (error) {\r\n      console.log(error, \"POST expenses error\");\r\n    }\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    let { name, value } = e.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"groups-page\">\r\n         <div className=\"groups-header\">\r\n            <img src=\"./../images/group-big.png\"></img>\r\n            {/* <button onClick={this.props.history.goBack}><img src=\"../../images/bacwk.png\"></img></button> */}\r\n                    <h3>Create your group</h3>\r\n                    <p>Start organizing your group and split your expenses.</p>\r\n            </div>\r\n          <div className=\"create-group-form mt50\">\r\n\r\n                  <h5>Select the members of your group:</h5>\r\n                  <Search filterMembers={this.filterMembers} />\r\n                  {this.state.filterMembers.map((member) => {\r\n                    return (\r\n                      <div>\r\n                        {member.username}\r\n                        <button onClick={this.memberPush} id=\"show-all\" className=\"add-member\">\r\n                          ADD\r\n                        </button>\r\n                      </div>\r\n                    );\r\n                  })}\r\n              <br></br>\r\n              <form onSubmit={this.handleSubmit}>\r\n                <div className=\"input-group-create\">\r\n                    <label htmlFor=\"username\">Introduce the name of your group:</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"name\"\r\n                      value={this.state.name}\r\n                      onChange={this.handleChange}\r\n                      />\r\n                    </div>\r\n                  <div>\r\n                  <label htmlFor=\"image\">Group's image: </label>\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"image\"\r\n                    value=\"\"\r\n                    onChange={this.handleFileUpload}\r\n                    \r\n                    />\r\n                </div>\r\n                <br></br>\r\n                <div class=\"center-div\">\r\n                  <input type=\"submit\" value=\"SAVE GROUP\" className=\"input-button-create-group\"/>\r\n                </div>\r\n              </form>\r\n          </div>\r\n          <div class=\"center-div\">\r\n        <Navbar/> \r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\n","import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\n\r\nimport AuthProvider from \"./lib/AuthProvider\";\r\n\r\nimport AnonRoute from \"./components/AnonRoute\";\r\nimport PrivateRoute from \"./components/PrivateRoute\";\r\n\r\nimport Navbar from \"./components/Navbar\";\r\nimport Home from \"./pages/Home\";\r\nimport Signup from \"./pages/Signup\";\r\nimport Login from \"./pages/Login\";\r\nimport Dashboard from \"./pages/Dashboard\";\r\nimport Arrangements from \"./pages/Arrangements\";\r\nimport Groups from \"./pages/Groups\";\r\nimport GroupDetails from \"./pages/GroupDetails\";\r\nimport Profile from \"./pages/Profile\";\r\nimport ProfileEdit from \"./pages/ProfileEdit\";\r\nimport AddCost from \"./pages/AddCost\";\r\nimport AddGroup from \"./pages/AddGroup\";\r\n\r\n\r\n\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <AuthProvider> \r\n        <div >\r\n\r\n          <Home />\r\n          <Switch>\r\n            <PrivateRoute exact path='/' component={Dashboard} />\r\n            <PrivateRoute exact path=\"/arrangements\" component={Arrangements}/>\r\n            <PrivateRoute exact path=\"/profile\" component={Profile}/>\r\n            <PrivateRoute exact path=\"/profile-edit/:id\" component={ProfileEdit}/>\r\n            <PrivateRoute exact path=\"/groups\" component={Groups}/>\r\n            <PrivateRoute exact path=\"/groups-edit/:id\" component={(props) => <AddGroup {...props}/>}/>\r\n            <PrivateRoute exact path=\"/groups-addCost/:id\" component={(props) => <AddCost {...props}/>}/>\r\n            <PrivateRoute exact path=\"/groups/:id\" component={(props) => <GroupDetails {...props} />}/>\r\n            <AnonRoute  exact path='/signup' component={Signup} />\r\n            <AnonRoute  exact path='/login' component={Login} />\r\n\r\n          </Switch>\r\n        </div>\r\n      </AuthProvider> \r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>\n, document.getElementById('root'));\n"],"sourceRoot":""}